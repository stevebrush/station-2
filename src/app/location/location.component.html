<div class="row">
  <div class="col-sm-8">
    <template [ngIf]="location">
      <div class="panel">
        <h1 class="panel-title">{{location.name}}</h1>
        <div class="panel-body">
          <template [ngIf]="!isAttacking">
            <p>
              {{location.percentExplored}}% explored
            </p>
          </template>
          <template [ngIf]="isAttacking">
            <label class="panel-label">Chance to defeat</label>
            <p class="blink">
              Rover under attack!
            </p>
            <ul class="list">
              <li *ngFor="let enemy of enemies">
                <button class="button" (click)="attack(enemy)">Attack {{enemy.name}}</button>
                <span *ngIf="isActive(enemy)">
                  <span *ngIf="!getAttackStatus(enemy)">[Miss]</span>
                  <span *ngIf="getAttackStatus(enemy)">>Hit<</span>
                </span>
                <span class="list-descriptor">{{getChanceToDefeat(enemy)}}%</span>
              </li>
            </ul>
          </template>
        </div>
        <div class="panel-footer">
          <button *ngIf="!isAttacking" (click)="explore()" [disabled]="location.percentExplored >= 100"><i class="hotkey">E</i>xplore</button>
          <button *ngIf="!isAttacking" routerLink="/"><i class="hotkey">R</i>eturn to base</button>
          <button *ngIf="isAttacking" routerLink="/"><i class="hotkey">R</i>etreat</button>
        </div>
      </div>
    </template>
  </div>
  <div class="col-sm-4">
    <station-player-stats></station-player-stats>
  </div>
</div>
